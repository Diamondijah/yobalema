(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6818],{27650:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/details/[mediaId]",function(){return n(40477)}])},40477:function(e,t,n){"use strict";n.r(t);var r=n(34051),i=n.n(r),o=n(85893),a=n(67294),c=n(19575),u=n(62286),l=n(9669),s=n.n(l),f=n(17563),d=n(45697),p=n.n(d),y=n(11163),b=n(52542),m=n(9561),h=n(81079),v=n(74216),g=n(57586),_=n(65815),j=n(98999),w=n(3982),O=n(28282),S=n(19046);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){I(o,r,i,a,c,"next",e)}function c(e){I(o,r,i,a,c,"throw",e)}a(void 0)}))}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){c=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function P(e){var t=e.mediaId,n=e.pricing,r=e.media,l=e.objSEO,s=e.objSchema,f=e.topRibbonKw,d=(0,y.useRouter)().query,p=(0,a.useContext)(b.ko),h=(0,a.useState)(r),g=h[0],_=h[1],j=function(){var e=x(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Z)(p.locale.lang,t,p.urlQuery);case 2:(n=e.sent)&&_(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=d.mediaId.replace(".html","");e.endsWith("_")&&(e=e.replace(/_([^_]*)$/,"$1")),e.endsWith(t)&&r.detail_url&&y.default.replace("".concat(encodeURI(r.detail_url)))}),[]),(0,a.useEffect)((function(){document.body}),[]),(0,a.useEffect)((function(){_(r)}),[r]),(0,a.useEffect)((function(){if(0!==Object.keys(r).length){var e,t,n={id:r.media_id,type:r.file_type,is_plus:"1"===(null===d||void 0===d?void 0:d.is_plus)?1:0},i=(0,u.parseCookies)(),o=i.rvitems,a=[];o&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(o)?(e=JSON.parse(c.Base64.decode(i.rvitems)),(t=R(t=(e=Array.isArray(e)?e:[e]).filter((function(e){return e.id!==r.media_id}))).concat([n])).length>10&&t.shift(),a=c.Base64.encode(JSON.stringify(t))):a=c.Base64.encode(JSON.stringify([n]));var l=(new Date).getTime()/1e3+2592e3;(0,u.setCookie)(null,"rvitems",a,{maxAge:l,path:"/",domain:"123rf.com",secure:!0})}}),[t]),(0,o.jsx)("div",{id:"content",style:{minWidth:"320px"},children:(0,o.jsx)(m.KU,{content:g,children:(0,o.jsx)(v.Z,{item:g,pricingInfo:n,objSEO:l,objSchema:s,topRibbonKw:f,mediaId:t,fetchImageDetails:j},t)})})}P.getInitialProps=function(){var e=x(i().mark((function e(t,n){var r,o,a,c,u,l,d,p,y,b,m,v,k,I,x,E,R,q,P,Z,N,C,K,$,z;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,o=t.req,a=!!t.req,c=r.mediaId.replace(".html",""),u=c.split("_"),l=u[1],d="details",delete(p=A({},r)).mediaId,y={},b={},m=[],v="",I=A({},p),x=o?o.headers.referer:void 0,E=(0,w.Z)(n.lang,l,I,t),R=(0,S.Z)(n.country.code,l,!1,t,{},!1),e.next=19,s().all([E,R]).then(s().spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=T(t,2),i=r[0],o=r[1];y=i,b=o})));case 19:if(q=y&&0===Object.keys(y).length&&y.constructor===Object,c.endsWith("_")&&(c=c.replace(/_([^_]*)$/,"$1")),v=q?"":y.detail_url.replace("/",""),P=v.normalize()===r.mediaId.normalize(),Z=!q&&(0,h.ci)(g.aK,y.file_type),N=!q&&((0,h.ci)(g.eR,y.file_type)&&Boolean(y.plus)),a&&x&&!(null===x||void 0===x?void 0:x.includes("123rf.com"))&&N&&(r.is_plus="1"),N&&"1"===(null===r||void 0===r?void 0:r.is_plus)&&(k="1"==(null===r||void 0===r?void 0:r.origin)?5:6),(!q&&c.endsWith(l)&&!P||Z)&&(C=f.stringify(p),t.res&&t.res.writeHead(301,{Location:"".concat(encodeURI(y.detail_url),"?").concat(C)}).end()),!x||!x.includes("google.com")){e.next=33;break}if(!y||0===Object.keys(y).length||![0,1,2,20,21,22,23].includes(y.file_type)){e.next=33;break}return e.next=32,(0,O.Z)(y.file_type,l,t);case 32:m=e.sent;case 33:if(0===Object.keys(y).length){e.next=39;break}return e.next=36,(0,j.Z)(y,t);case 36:e.t0=e.sent,e.next=40;break;case 39:e.t0={};case 40:return(K=e.t0).og_type||(K.og_type="website"),$=q?{}:(0,h.SJ)(n.lang,y),z={objDetailsPageSchema:$},y.detail_url&&_.p.forEach((function(e){var t=e.lang,r=e.subdomain;e.hrefLang;t!==n.lang||(K.link_canonical="https://".concat(r,".123rf.com").concat(y.detail_url))})),t.req&&t.res&&q&&(t.res.statusCode=404),e.abrupt("return",{media:y,pricing:b,objSEO:K,objSchema:z,query:r,pageType:d,urlQuery:p,mediaId:l,topRibbonKw:m,imageType:k});case 47:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P.propTypes={locale:p().oneOfType([p().object]).isRequired,mediaId:p().string.isRequired,pricing:p().oneOfType([p().object]).isRequired,media:p().oneOfType([p().object]).isRequired,objSEO:p().oneOfType([p().object]).isRequired,objSchema:p().oneOfType([p().object]).isRequired,topRibbonKw:p().oneOfType([p().array]),imageType:p().number},P.defaultProps={topRibbonKw:[],imageType:null},t.default=P}},function(e){e.O(0,[296,571,653,1029,7032,1033,90,1901,7133,4253,2409,70,7273,6958,6494,3851,124,5361,7943,5706,5733,2275,3230,4826,201,5654,1617,2230,9774,2888,179],(function(){return t=27650,e(e.s=t);var t}));var t=e.O();_N_E=t}]);